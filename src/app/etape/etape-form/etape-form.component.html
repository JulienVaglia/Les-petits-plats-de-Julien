<form #form="ngForm" class="mt-5 d-flex flex-wrap" (submit)="formulaire(form)">


  <h1 class="text-center w-100 mb-5">{{etapes !=undefined && id_recette != undefined ? etapes[0].rTitre :''}}</h1>

  <div style="width: 50rem;" class="card rounded-3 shadow ms-5 p-2 ps-5">

    <h2 class="ms-1 mb-5">Création d'une étape :</h2>

    <div class="mb-3">

      <label for="exampleInputEmail1" class="form-label ms-2">Ordre :</label>
      <input [(ngModel)]="etape.ordre" type="email" name="ordre" class="form-control w-25 ms-2 shadow p-2 mb-2"
        id="exampleInputEmail1" aria-describedby="emailHelp">

    </div>

    <div class="mb-3">

      <label for="exampleInputPassword1" class="form-label ms-2">Description :</label>
      <textarea [(ngModel)]="etape.description" name="description"
        class="form-control ms-2 rounded-3 shadow p-2 w-75 mb-4" rows="5" id=""></textarea>

    </div>

    <input type="hidden" name="id" [(ngModel)]="etape.id">

    <!-- Récupération de l'ID de la recette (id_recette) pour l'enregistrer dans chaque etape : lien recette/etape-->
    <input type="hidden" name="id_recette" [(ngModel)]="id_recette">

    <button style="width: 8rem;" type="submit" class="mb-2 btn btn-primary ms-2">Enregistrer</button>
  </div>

  <div class="d-flex ms-5">
    <div class="vr"></div>
  </div>

  <div style="width: 40rem;" class="ms-5 p-2 ps-5">

    <h2 class="ms-1 mb-5">Liste des étapes</h2>

    <div class="mb-3 d-flex justify-content-between border-bottom" *ngFor="let etape of etapes">

      <div class="d-flex">
        <ul class="list-group list-group-flush">


          <li class="list-group-item">{{ etape.ordre }} . {{ etape.description }}</li>

        </ul>
      </div>
      <div class="d-flex">

        <a (click)="delete(etape.id)" class="card-link btn btn-danger">Supprimer</a>

      </div>

    </div>

  </div>
</form>